

@model AsopaabiOnline.Modelo.Cliente

@{
    ViewBag.Title = "Agregar Cliente";
}

<h3>Datos Personales</h3>
<hr />
<div class="row">
    <div class="col-md-4">

        <form asp-controller="Clientes" asp-action="Agregar" method="post">

            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <br />



            <div class="form-group">

                <label asp-for="Dni" class="control-label" style="width:150px;"></label>
                <input asp-for="Dni" id="Dni" class="form-control" style="width:150px;" />

                <div id="elResultado" />
                <span asp-validation-for="Dni" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="TipoDni" class="control-label" style="width:150px;"></label>
               <select id="tipoDeDni" asp-for="TipoDni" asp-items="Html.GetEnumSelectList<AsopaabiOnline.Modelo.TipoDeDni>
                    ()" class="form-control" style="width:220px;">
                    <option selected="selected" disabled value="">Seleccione una opción</option>
                    </select>
                    <span asp-validation-for="TipoDni" class="text-danger"></span>
                    <div id="mostrar"> </div>
            </div>



            <div class="form-group">
                <label asp-for="PrimerNombre" class="control-label" style="width:150px;"></label>
                <input asp-for="PrimerNombre" class="form-control" style="width:150px;" />
                <span asp-validation-for="PrimerNombre" class="text-danger"></span>


            </div>
            <div class="form-group">
                <label asp-for="SegundoNombre" class="control-label" style="width:150px;"></label>
                <input asp-for="SegundoNombre" class="form-control" style="width:150px;" />
                <span asp-validation-for="SegundoNombre" class="text-danger"></span>
            </div>


            <div class="form-group">
                <label asp-for="PrimerApellido" class="control-label" style="width:150px;"></label>
                <input asp-for="PrimerApellido" class="form-control" style="width:150px;" />
                <span asp-validation-for="PrimerApellido" class="text-danger"></span>

            </div>

            <div class="form-group">
                <label asp-for="SegundoApellido" class="control-label" style="width:150px;"></label>
                <input asp-for="SegundoApellido" class="form-control" style="width:150px;" />
                <span asp-validation-for="SegundoApellido" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="FechaDeNacimiento" class="control-label"></label>
                <input asp-for="FechaDeNacimiento" class="form-control" style="width:200px;" required />
                <span asp-validation-for="FechaDeNacimiento" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="TipoActividad" class="control-label" style="width:200px;"></label>
                <select asp-for="TipoActividad" asp-items="Html.GetEnumSelectList<AsopaabiOnline.Modelo.TipoDeActividad>()" class="form-control" style="width:250px;">
                    <option selected="selected" disabled value="">Seleccione una opción</option>
                </select>
                <span asp-validation-for="TipoActividad" class="text-danger" style="width:220px;"></span>

            </div>
                       
                <br />
                <hr />
                <br />
                <div class="form-group col-md-9 " style="margin-left:20%; ">


                    <input type="submit" id="guardar" value="Guardar" class="btn btn-outline-success" />
                    <a class="btn btn-outline-secondary" asp-action="Mostrar"> Volver </a>
                </div>


        </form>


    </div>
</div>


@section Scripts{
<script>





    document.addEventListener( 'DOMContentLoaded',
        function (evt) {
            var btnTipoDeDni = document.getElementById('tipoDeDni');
            btnTipoDeDni.addEventListener('click', ValidarDNI);

        });


        function ValidarDNI(evt) {
            var numeroDeCedula = document.getElementById('Dni').value,
                imprimir = document.getElementById('elResultado'),
                cedulaFisicaValida = /^[1-9]-\d{3}-\d{3}$/,
                cedulaJuridicaValida = /^[1-9]-\d{3}-\d{6}$/;

            $("#tipoDeDni").click(function (evento) {

                var elResultado = '';
                for (var recorrer = 1; recorrer <= $(this).val(); recorrer++) {
                    elResultado += crear(recorrer);


                }
                $("#mostrar").elResultado(elResultado);
            });

            var crear = function (num) {
                if (num = 1) {

                    if (cedulaFisicaValida.test(numeroDeCedula)) {


                    } else {
                        imprimir.innerText = ' La Cédula: ' + numeroDeCedula + ' es inválida, Formato: 5-255-668';
                        
                    }

                } else if (num = 2)
                 {
                    if (cedulaJuridicaValida.test(numeroDeCedula)) {

                    } else {
                        imprimir.innerText = ' La Cédula: ' + numeroDeCedula + ' es inválida, Formato: 5-255-618266';
                    }

                }



            };

    };

</script>


}

    @*<script type="text/javascript" src="~/js/funcionDelCliente.js"></script>*@